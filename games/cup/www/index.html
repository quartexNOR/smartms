<!DOCTYPE html>
<html manifest="app.manifest">
<head>	
  <meta charset="UTF-8" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
	<meta name="viewport" content="width=device-width, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"/>
  <link rel="manifest" href="webapp.json">
  

	<title>SpriteCanvas</title>

  	<script type="text/javascript">	document.ontouchmove = function(e) { e.preventDefault(); }

	function bootstrap() { 
var TObject={$ClassName:"TObject",$Parent:null,ClassName:function(s){return s.$ClassName},ClassType:function(s){return s},ClassParent:function(s){return s.$Parent},$Init:function(){},Create:function(s){return s},Destroy:function(s){for(var prop in s)if(s.hasOwnProperty(prop))delete s.prop},Destroy$:function(s){return s.ClassType.Destroy(s)},Free:function(s){if(s!==null)s.ClassType.Destroy(s)}}
function $New(c){var i={ClassType:c};c.$Init(i);return i}
function $Event0(i,f){var li=i,lf=f;return function(){return lf.call(li,li)}}
var Bh={$ClassName:"TAnimation",$Parent:TObject,$Init:function($){TObject.$Init($);$.dnm=$.F02=0;$.fXV=$.NHs=$.q0A=$.eSL=undefined;$.CPA=$.H3H=null;$.Y3P=0;$.jwj=120},D8:function(S,Ukw){var P7m;S.CPA=Ukw;S.H3H=Ukw.getContext("2d");window.addEventListener("resize",function(){Bh.JsM(S)},false);P7m=JSON.parse("{\"frames\":[{\"filename\":\"background\",\"frame\":{\"x\":2,\"y\":2,\"w\":800,\"h\":400},\"rotated\":false,\"trimmed\":false,\"spriteSourceSize\":{\"x\":0,\"y\":0,\"w\":800,\"h\":400},\"sourceSize\":{\"w\":800,\"h\":400}},{\"filename\":\"filename1\",\"frame\":{\"x\":967,\"y\":2,\"w\":158,\"h\":316},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":15,\"y\":3,\"w\":158,\"h\":316},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename2\",\"frame\":{\"x\":1850,\"y\":2,\"w\":168,\"h\":303},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":0,\"y\":8,\"w\":168,\"h\":303},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename3\",\"frame\":{\"x\":1553,\"y\":2,\"w\":152,\"h\":307},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":26,\"y\":2,\"w\":152,\"h\":307},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename4\",\"frame\":{\"x\":1707,\"y\":2,\"w\":141,\"h\":306},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":42,\"y\":1,\"w\":141,\"h\":306},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename5\",\"frame\":{\"x\":1275,\"y\":2,\"w\":139,\"h\":311},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":33,\"y\":3,\"w\":139,\"h\":311},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename6\",\"frame\":{\"x\":1416,\"y\":2,\"w\":135,\"h\":311},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":29,\"y\":8,\"w\":135,\"h\":311},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename7\",\"frame\":{\"x\":1127,\"y\":2,\"w\":146,\"h\":314},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":32,\"y\":2,\"w\":146,\"h\":314},\"sourceSize\":{\"w\":187,\"h\":324}},{\"filename\":\"filename8\",\"frame\":{\"x\":804,\"y\":2,\"w\":161,\"h\":319},\"rotated\":false,\"trimmed\":true,\"spriteSourceSize\":{\"x\":22,\"y\":1,\"w\":161,\"h\":319},\"sourceSize\":{\"w\":187,\"h\":324}}],\"meta\":{\"app\":\"http:\/\/www.codeandweb.com\/texturepacker\",\"version\":\"1.0\",\"image\":\"cityscene.png\",\"format\":\"INDEXED\",\"size\":{\"w\":2020,\"h\":404},\"scale\":\"1\",\"smartupdate\":\"$TexturePacker:SmartUpdate:3f95b1feed2fbfc4385b49348c54e958:fed0f696c0a1349f4c5839d5f65ab643:292542e6853f316339413b9243f95b10$\"}}");S.NHs=new FireSpriteAtlas(P7m);Bh.JsM(S);S.fXV=MZ($Event0(S,Bh.EH));return S},EH:function(S){var cS1=0;S.fXV=MZ($Event0(S,Bh.EH));S.Y3P=(S.NHs).srcArray.frames.length-1;S.q0A=(S.NHs).createSprite((S.NHs).srcArray.frames[0].filename);S.eSL=(S.NHs).createSprite((S.NHs).srcArray.frames[S.dnm].filename);S.dnm=(S.dnm==S.Y3P)?1:S.dnm+1;S.q0A.draw(S.H3H,0,0);cS1=GH2(S.F02,-180,800+180,S.jwj);S.eSL.draw(S.H3H,cS1,0);S.F02=(S.F02<S.jwj)?++S.F02:0},JsM:function(S){S.CPA.width=800;S.CPA.height=404},Destroy:TObject.Destroy};function MZ(WqR){var R=undefined;if(!Uuu)Uq();R=Uuu(WqR);return R};function Uq(){Uuu=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)}})();ZL6=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||function(handle){window.clearTimeout(handle)}})()};function QrM(mDf){var R=undefined;if(!nJT)CGs();R=nJT(mDf);return R};var W4w={$ClassName:"TW3CustomBrowserAPI",$Parent:TObject,$Init:function($){TObject.$Init($)},Destroy:TObject.Destroy};var hQK=["bvUnknown","bviOS","bvAndroid","bvChrome","bvSafari","bvFirefox","bvOpera","bvIE"];function RQo$IXU(YQF){var R=false;var T3L=undefined;if(RQo$o2W(YQF)){T3L=RQo$epc(YQF);R=RQo$o2W(T3L)&&T3L.body}
return R}
function RQo$eCc(pJW,iba){function AUw(hpz,zWG){setTimeout(hpz,zWG)};if(RQo$o2W(pJW)){if(RQo$IXU(pJW)){iba()}else AUw(function(){RQo$eCc(pJW,iba)},100)}}
function RQo$epc(Qu){var R=undefined;var sO2=undefined;if(RQo$o2W(Qu)){sO2=Qu;while(sO2.parentNode){sO2=sO2.parentNode}
R=sO2}else R=null;return R}
function RQo$o2W(boZ){var R=false;R=!((boZ==undefined)||(boZ==null));return R}
function CGs(){nJT=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000/60)}})();vPl=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||function(handle){window.clearTimeout(handle)}})()};function lu$Hzk(DaM){var R=false;R=((DaM)!==undefined)&&(typeof DaM!==null)&&(typeof DaM==="object")&&((DaM).length!==undefined);return R}
function lu$mcm(zkp){var R=false;R=((zkp)!==undefined)&&(typeof zkp!==null)&&(typeof zkp==="boolean");return R}
function lu$AM(IXe){var R=false;R=((IXe)!==undefined)&&(typeof IXe!==null)&&(typeof IXe==="number")&&(Math.round(IXe)!=IXe);return R}
function lu$DmB(Y7C){var R=false;R=((Y7C)!==undefined)&&(typeof Y7C!==null)&&(typeof Y7C==="function");return R}
function lu$K3f(zKO){var R=false;R=((zKO)!==undefined)&&(typeof zKO!==null)&&(typeof zKO==="number")&&(Math.round(zKO)===zKO);return R}
function lu$BUs(peg){var R=false;R=((peg)!==undefined)&&(typeof peg!==null)&&(typeof peg==="object")&&((peg).length===undefined);return R}
function lu$QvF(hh){var R=false;R=((hh)!==undefined)&&(typeof hh!==null)&&(typeof hh==="string");return R}
function lu$Bbk(IYP){var R=false;R=((IYP)!==undefined)&&(typeof IYP!==null)&&(typeof IYP==="symbol");return R}
var gRp=["vdUnknown","vdBoolean","vdInteger","vdFloat","vdString","vdSymbol","vdFunction","vdObject","vdArray"];var wM9={$ClassName:"TVariant",$Parent:TObject,$Init:function($){TObject.$Init($)},e53:function(n3w){var R=false;R=!((n3w==null)||(n3w==undefined));return R},Destroy:TObject.Destroy};function Copy$ZMP(s,d){d.o3D=s.o3D;d.RUq=s.RUq;return d}
function Clone$ZMP($){return{o3D:$.o3D,RUq:$.RUq}}
function Copy$t1w(s,d){d.PwK=s.PwK;d.HsG=s.HsG;return d}
function Clone$t1w($){return{PwK:$.PwK,HsG:$.HsG}}
function Copy$dUK(s,d){return d}
function Clone$dUK($){return{}}
function pH5(McF,Gum){var R={PwK:0,HsG:0};R.PwK=McF.PwK+Gum.PwK;R.HsG=McF.HsG+Gum.HsG;return R};function eeT(LqW,BOE){var R={PwK:0,HsG:0};R.PwK=LqW.PwK+BOE;R.HsG=LqW.HsG+BOE;return R};function Evi(BUf,U8a){var R={o3D:0,RUq:0};R.o3D=BUf.o3D+U8a.o3D;R.RUq=BUf.RUq+U8a.RUq;return R};function VsX(L93,f4Q){var R={o3D:0,RUq:0};R.o3D=L93.o3D+f4Q;R.RUq=L93.RUq+f4Q;return R};function LeL(eB6,bNx){var R={o3D:0,RUq:0};R.o3D=eB6.o3D+bNx;R.RUq=eB6.RUq+bNx;return R};function LCD(cK,YOE){var R={PwK:0,HsG:0};R.PwK=cK.PwK-YOE.PwK;R.HsG=cK.HsG-YOE.HsG;return R};function MK6(bHv,XQu){var R={PwK:0,HsG:0};R.PwK=bHv.PwK-XQu;R.HsG=bHv.HsG-XQu;return R};function atm(CO5,Re){var R={o3D:0,RUq:0};R.o3D=CO5.o3D-Re.o3D;R.RUq=CO5.RUq-Re.RUq;return R};function WNv(ltq,g7T){var R={o3D:0,RUq:0};R.o3D=ltq.o3D-g7T;R.RUq=ltq.RUq-g7T;return R};function gj(Isq,LHs){var R={o3D:0,RUq:0};R.o3D=Isq.o3D-LHs;R.RUq=Isq.RUq-LHs;return R};function a68(zL4,Wdg){var R={PwK:0,HsG:0};R.PwK=Math.round(zL4.PwK*Wdg.PwK);R.HsG=Math.round(zL4.HsG*Wdg.HsG);return R};function lro(f6c,FUq){var R={PwK:0,HsG:0};R.PwK=Math.round(f6c.PwK*FUq);R.HsG=Math.round(f6c.HsG*FUq);return R};function RUs(lsQ,QEL){var R={PwK:0,HsG:0};R.PwK=Math.round(lsQ.PwK*QEL);R.HsG=Math.round(lsQ.HsG*QEL);return R};function Ib4(gLV,jAw){var R={o3D:0,RUq:0};R.o3D=gLV.o3D*jAw.o3D;R.RUq=gLV.RUq*jAw.RUq;return R};function pO(zEx,avi){var R={o3D:0,RUq:0};R.o3D=zEx.o3D*avi;R.RUq=zEx.RUq*avi;return R};function wxe(vpn,J8Y){var R={o3D:0,RUq:0};R.o3D=vpn.o3D*J8Y;R.RUq=vpn.RUq*J8Y;return R};function GH2(h6q,YNf,Bmp,PGB){var R=0;if(h6q==0){R=YNf}else if(h6q==PGB){R=YNf+Bmp}else{h6q=h6q/(PGB/2);if(h6q<1){R=Bmp/2*Math.pow(2,10*(h6q-1))+YNf}else{h6q=h6q-1;R=Bmp/2*((-Math.pow(2,-10*h6q))+2)+YNf}}
return R};var Uuu=null;var ZL6=null;var yX=null,sF1=null;var jas=0;var NWv=0;var SfC=null;var nJT=null;var vPl=null;function FireSpriteAtlas(g){this.srcArray=g;this.spriteSheetLocation=g.meta.image;this.SpriteSheet=new Image;this.SpriteSheet.src=this.spriteSheetLocation;this.createSprite=function(a){for(var b=0;b<this.srcArray.frames.length;b++)if(this.srcArray.frames[b].filename==a)return a=this.srcArray.frames[b],new this.FireSprite(this.SpriteSheet,a.frame.x,a.frame.y,a.frame.w,a.frame.h);alert('Error: Sprite "'+a+'" not found in '+this.spriteSheetLocation)};this.createSpriteCanvas=function(a){for(var b=0;b<
this.srcArray.frames.length;b++)if(this.srcArray.frames[b].filename==a)return a=this.srcArray.frames[b],new this.FireSpriteCanvas(this.SpriteSheet,a.frame.x,a.frame.y,a.frame.w,a.frame.h);alert('Error: Sprite "'+a+'" not found in '+this.spriteSheetLocation)};this.FireSprite=function(a,b,f,c,d){this.srcImage=a;this.srcX=b;this.srcY=f;this.srcWidth=c;this.srcHeight=d;this.scale=1;this.draw=function(a,b,c){a.drawImage(this.srcImage,this.srcX,this.srcY,this.srcWidth,this.srcHeight,b,c,this.srcWidth*this.scale,
this.srcHeight*this.scale)};this.setScale=function(){this.scale=0;0>this.scale&&this.setScale()};this.getWidth=function(){return this.srcWidth*this.scale};this.getHeight=function(){return this.srcHeight*this.scale};this.getScale=function(){return this.scale}};this.FireSpriteCanvas=function(a,b,f,c,d){var e=document.createElement("canvas");e.width=c;e.heigh=d;e.getContext("2d").drawImage(a,b,f,c,d,0,0,c,d);return e}};var $Application=function(){yX=document.body.style;yX.setProperty("border","0");yX.setProperty("margin","0");yX.setProperty("padding","0");yX.setProperty("overflow","hidden");sF1=document.createElement("canvas");sF1.style.setProperty("display","block");document.body.appendChild(sF1);Bh.D8($New(Bh),sF1);window.setTimeout(function(){console.log("Start preloading")},2000,null)}

$Application();
 }
	window.onload = function () { bootstrap(); }
	</script>

</head>

<body></body>

</html>
